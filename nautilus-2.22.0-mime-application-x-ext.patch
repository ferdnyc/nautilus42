--- trunk/libnautilus-private/nautilus-mime-application-chooser.c	2008/02/20 15:11:17	13784
+++ trunk/libnautilus-private/nautilus-mime-application-chooser.c	2008/03/13 15:11:05	13931
@@ -599,9 +599,9 @@
 			       const char *extension,
 			       const char *mime_type)
 {
-	chooser->details->extension = g_strdup (extension);
 	if (extension != NULL &&
 	    g_content_type_is_unknown (mime_type)) {
+		chooser->details->extension = g_strdup (extension);
 		    chooser->details->content_type = g_strdup_printf ("application/x-extension-%s", extension);
 		    /* the %s here is a file extension */
 		    chooser->details->type_description =
